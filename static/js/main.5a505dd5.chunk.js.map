{"version":3,"sources":["Redux/dialogsReducer.tsx","api/api.ts","assets/images/User_icon.png","components/Users/Users.module.scss","styles/common/Btn.module.scss","components/Navbar/Navbar.module.scss","components/Login/Login.module.scss","reportWebVitals.ts","components/Navbar/Navbar.tsx","components/News/News.tsx","components/Settings/Settings.tsx","components/Music/Music.tsx","Redux/sidebarReducer.tsx","utils/objectsHelper.ts","Redux/usersReducer.ts","Redux/reduxStore.ts","components/common/paginator/Paginators.tsx","components/Users/User.tsx","components/Users/Users.tsx","Redux/usersSelector.ts","components/Users/UsersContainer.tsx","components/Header/Header.tsx","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","hoc/withSuspense.tsx","components/common/Error404/Error404.tsx","App.tsx","index.tsx","Redux/authReducer.ts","components/Users/User.module.scss","assets/images/loader.gif","components/common/preloader/Preloader.tsx","Redux/appReducer.ts","components/common/FormsControls/FormsControl.tsx","components/Header/Header.module.scss","components/common/FormsControls/FormControls.module.scss","utils/validators/validators.ts","components/common/paginator/Paginator.module.scss","components/common/Error404/Error404.module.scss","Redux/profileReducer.tsx"],"names":["SEND_MESSAGE","initialState","messages","id","message","newMessageBody","dialogs","name","avatar","sendMessageCreator","type","dialogsReducer","state","action","body","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","unfollowUser","userID","delete","followUser","post","authAPI","authMe","login","email","password","rememberMe","captcha","logout","profileAPI","getUserProfile","userId","getUserStatus","updateUserStatus","status","put","savePhoto","photoFile","formData","FormData","append","saveProfile","profile","securityAPI","getCaptchaUrl","module","exports","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","Navbar","className","s","nav","item","to","activeClassName","activeLink","News","props","Settings","Music","friends","sidebarReducer","updateObjectInArray","items","itemId","objPropertyName","newObjProp","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","resultCode","usersReducer","followed","totalCount","filter","rootReducer","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","usersPage","auth","authReducer","app","appReducer","form","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","thunkMiddleware","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","portionSize","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","styles","paginator","onClick","disabled","styleBtn","btnSecondVariant","p","selectedPage","pageNumber","onPageChanged","User","user","unfollow","follow","userContainer","userBlock","src","photos","small","userPhoto","userInfo","userName","userStatus","btn","some","Users","usersContainer","getUsersSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","this","Preloader","React","Component","connect","bind","Header","header","loginBlock","isAuth","loginText","HeaderContainer","LoginReduxForm","reduxForm","handleSubmit","captchaUrl","error","onSubmit","formLogin","Field","placeholder","component","Input","validate","required","field","checkbox","summaryError","alt","loginContainer","titleLoginPage","withSuspense","Suspense","fallback","Error404","style","error404Page","numbers","DialogsContainer","lazy","ProfileContainer","App","initializeApp","initialized","exact","path","render","Login","AppContainer","withRouter","SamuraiJSApp","ReactDOM","StrictMode","document","getElementById","SET_USER_DATA","GET_CAPTCHA_URL_SUCCESS","payload","setAuthUserData","getCaptchaUrlSuccess","getAuthUserData","length","stopSubmit","_error","url","loader","INITIALIZED_SUCCESS","SET_APP_ERROR","setAppError","setError","alert","FormControl","input","meta","child","hasError","touched","formControl","children","Textarea","restProps","value","maxLengthCreator","maxLength","ADD_POST","SET_USER_PROFILE","SET_USER_STATUS","DELETE_POST","SAVE_PHOTO_SUCCESS","posts","likesCount","newPostText","addPostActionCreator","setUserStatus","file","getState","Promise","reject","newPost","postId"],"mappings":"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","file":"static/js/main.5a505dd5.chunk.js","sourcesContent":["\n\n\nconst SEND_MESSAGE = 'dialogs/SEND-MESSAGE';\n\ntype ActionsTypes =\n ReturnType<typeof sendMessageCreator>\n\nexport type DialogsPageType = {\n    messages: Array<MessageType>\n    dialogs: Array<DialogsType>\n    newMessageBody: string\n}\nexport type DialogsType = {\n    name: string\n    id: number\n    avatar: string\n}\nexport type MessageType = {\n    id: number\n    message: string}\n\nconst initialState: DialogsPageType = {\n        messages: [\n            {id: 1, message: 'Hi!'},\n            {id: 2, message: 'How are you?'},\n            {id: 3, message: 'Yo!'},\n        ],\n        newMessageBody: '',\n        dialogs: [\n            {id: 1, name: 'Lisa', avatar: 'https://pets2.me/media/res/1/3/1/9/2/13192.ozimro.300.jpg'},\n            {\n                id: 2,\n                name: 'Bob',\n                avatar: 'https://cs4.pikabu.ru/post_img/big/2015/06/27/6/1435397110_577794048.png'\n            },\n            {id: 3, name: 'Jane', avatar: 'https://sun9-14.userapi.com/c698/u89838553/113490960/x_ff0ef64c.jpg'},\n            {\n                id: 4,\n                name: 'Mary',\n                avatar: 'https://images11.esquire.ru/upload/custom/c41/c41ba98ac9188061e2b0952cdcab9b71.jpg'\n            },\n            {id: 5, name: 'Jack', avatar: 'https://img.gazeta.ru/files3/837/5731837/bat-pic668-668x444-36724.jpg'},\n        ],\n    };\n\n// for this reducer state is state.dialogsPage, we give here only this part of state.\n// It's important to give a type oe return of function\nconst dialogsReducer = (state:DialogsPageType = initialState, action: ActionsTypes): DialogsPageType => {\n\n    switch (action.type) {\n        case SEND_MESSAGE: {\n            let body = action.newMessageBody\n            return {\n                ...state,\n                messages:  [...state.messages, {id: 6, message: body}],\n            };\n        }\n\n        default:\n            return state;\n    }\n\n\n}\n\nexport const sendMessageCreator = (newMessageBody:string) => ({\n    type: SEND_MESSAGE,\n    newMessageBody\n}) as const\n\nexport default dialogsReducer;","import axios from \"axios\";\nimport {UserType} from \"../Redux/usersReducer\";\nimport {ProfileUserType} from \"../Redux/profileReducer\";\nimport {ProfileDataFormType} from \"../components/Profile/ProfileInfo/ProfileDataForm\";\n\ntype AuthDataType = {\n    email: string\n    id: number\n    login: string\n}\n\ntype CommonResponseType<T = {}> = {\n    data: T\n    fieldsErrors: string[]\n    messages: string[]\n    resultCode: number\n}\ntype UserResponseType = {\n    error: null | string\n    items: Array<UserType>\n    totalCount: number\n}\nexport type PhotosType = {\n    small: string\n    large: string\n}\ntype CaptchaUrlType = {\n    url: string\n}\n\n\nconst instance = axios.create({\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    withCredentials: true,\n    headers: {\n        \"API-KEY\": \"ac9f8bba-4f9b-409e-bf86-a85be8d0bfe1\"\n    }\n\n})\nexport const usersAPI = {\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\n        return instance.get<UserResponseType>(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    unfollowUser(userID: number) {\n        return instance.delete<CommonResponseType>(`follow/${userID}`)\n            .then(response => response.data)\n    },\n    followUser(userID: number) {\n        return instance.post<CommonResponseType>(`follow/${userID}`)\n            .then(response => response.data)\n    }\n}\n\nexport const authAPI = {\n    authMe() {\n        return instance.get<CommonResponseType<AuthDataType>>(`auth/me`)\n            .then(response => response.data)\n    },\n    login(email: string, password: string, rememberMe: boolean = false, captcha: string | null = null) {\n        return instance.post<CommonResponseType<{ userId: number }>>(`auth/login`, {\n            email,\n            password,\n            rememberMe,\n            captcha\n        })\n    },\n    logout() {\n        return instance.delete<CommonResponseType>(`auth/login`,)\n    }\n}\n\nexport const profileAPI = {\n    getUserProfile(userId: number | null) {\n        return instance.get<ProfileUserType>(`profile/${userId}`)\n            .then(response => response.data)\n    },\n    getUserStatus(userId: number | null) {\n        return instance.get<string>(`profile/status/${userId}`)\n    },\n    updateUserStatus(status: string) {\n        return instance.put<CommonResponseType>(`profile/status`, {status})\n    },\n    savePhoto(photoFile: File) {\n        const formData = new FormData();\n        formData.append(\"image\", photoFile)\n        return instance.put<CommonResponseType<PhotosType>>('profile/photo', formData, {\n            headers: {\n                'Content-Type': 'multipart/form-data'\n            }\n        })\n    },\n    saveProfile(profile: ProfileDataFormType) {\n        return instance.put<CommonResponseType<ProfileDataFormType>>('profile', profile)\n    }\n}\n\nexport const securityAPI = {\n    getCaptchaUrl() {\n        return instance.get<CaptchaUrlType>('security/get-captcha-url')\n    }\n}\n\n\n\n","export default \"data:image/png;base64,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\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersContainer\":\"Users_usersContainer__3zKO4\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"Btn_btn__2SkcV\",\"btnSecondVariant\":\"Btn_btnSecondVariant__2Dldi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__3cHYR\",\"item\":\"Navbar_item__3Icao\",\"activeLink\":\"Navbar_activeLink__1pBw8\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginContainer\":\"Login_loginContainer__3Scu4\",\"titleLoginPage\":\"Login_titleLoginPage__3DiRQ\",\"loginText\":\"Login_loginText__21R-Z\",\"formLogin\":\"Login_formLogin__cJPXF\",\"field\":\"Login_field__qWiFe\",\"checkbox\":\"Login_checkbox__1wXhY\"};","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport s from './Navbar.module.scss';\n\n\n\n\n\nfunction Navbar() {\n\n    return (\n        <nav className = {s.nav}>\n            <div className = {`${s.item}`}>\n                <NavLink to=\"/profile\" activeClassName ={s.activeLink}>Profile</NavLink>\n            </div>\n            <div className = {s.item}>\n                <NavLink  to=\"/dialogs\" activeClassName={s.activeLink}>Messages</NavLink>\n            </div>\n            <div className = {s.item}>\n                <NavLink  to=\"/users\" activeClassName={s.activeLink}>Users</NavLink>\n            </div>\n            {/*<div className = {s.item}>*/}\n            {/*    <NavLink  to={\"/news\"} activeClassName={s.activeLink}>News</NavLink>*/}\n            {/*</div>*/}\n            <div className = {s.item}>\n                <NavLink to={\"/music\"} activeClassName={s.activeLink}>Music</NavLink>\n            </div>\n            {/*<div className = {s.item}>*/}\n            {/*    <NavLink to={\"/settings\"} activeClassName={s.activeLink}>Settings</NavLink>*/}\n            {/*</div>*/}\n\n        </nav>\n    )\n}\n\n\nexport default Navbar;\n\n\n","import React from \"react\";\nimport s from './News.module.css'\n\n\nfunction News(props: any) {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\n\nexport default News;\n","import React from \"react\";\n\n\nfunction Settings(props: any) {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\n\nexport default Settings;\n","import React from \"react\";\nimport s from './Music.module.css'\n\n\nfunction Music(props: any) {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\n\nexport default Music;\n","\nimport {DialogsType} from \"./dialogsReducer\";\n\nexport type SidebarType = {\n    friends: Array<DialogsType>\n}\ntype ActionsTypes = any\n\n\nconst initialState: SidebarType = {\n    friends: [\n        {id: 1, name: 'Lisa', avatar: 'https://pets2.me/media/res/1/3/1/9/2/13192.ozimro.300.jpg'},\n        {\n            id: 2,\n            name: 'Bob',\n            avatar: 'https://cs4.pikabu.ru/post_img/big/2015/06/27/6/1435397110_577794048.png'\n        },\n        {id: 3, name: 'Jane', avatar: 'https://sun9-14.userapi.com/c698/u89838553/113490960/x_ff0ef64c.jpg'},\n    ]\n\n};\n\nconst sidebarReducer= (state: SidebarType = initialState, action: ActionsTypes): SidebarType => {\n\n    return state;\n}\n\nexport default sidebarReducer;","\n\n// common function for reducers\nimport {UserType} from \"../Redux/usersReducer\";\n\nexport const updateObjectInArray = (items: Array<UserType>, itemId: number, objPropertyName: string, newObjProp: {}  ) => {\n    return items.map(u => {\n            // @ts-ignore\n        if (u[objPropertyName] === itemId) {\n                return {...u, ...newObjProp}\n            }\n            return u;\n        })\n}\n","import {usersAPI} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {updateObjectInArray} from \"../utils/objectsHelper\";\n\nconst FOLLOW = 'users/FOLLOW';\nconst UNFOLLOW = 'users/UNFOLLOW';\nconst SET_USERS = 'users/SET_USERS';\nconst SET_CURRENT_PAGE = 'users/SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'users/SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'users/TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'users/TOGGLE_IS_FOLLOWING_PROGRESS'\n\n\nexport type UserType = {\n    id: number\n    followed: boolean\n    name: string\n    status: string\n    photos: {\n        small: string | null\n        large: string | null\n    }\n}\nexport type UsersPageType = typeof initialState\n\ntype ActionsType = ReturnType<typeof followSuccess> |\n    ReturnType<typeof unfollowSuccess> |\n    ReturnType<typeof setUsers> |\n    ReturnType<typeof setCurrentPage> |\n    ReturnType<typeof setTotalUsersCount> |\n    ReturnType<typeof toggleIsFetching> |\n    ReturnType<typeof toggleFollowingProgress>\n\n\nlet initialState = {\n    users: [] as Array<UserType>,\n    pageSize: 10,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: [] as Array<number>,\n}\n\nconst usersReducer = (state: UsersPageType = initialState, action: ActionsType): UsersPageType => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: true})\n            }\n        case UNFOLLOW:\n            return {\n                ...state,\n                users: updateObjectInArray(state.users, action.userID, \"id\", {followed: false})\n            }\n        case SET_USERS: {\n            return {\n                ...state,\n                users: action.users\n            }\n        }\n        case SET_CURRENT_PAGE: {\n            return {\n                ...state,\n                currentPage: action.currentPage\n            }\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {\n                ...state,\n                totalUsersCount: action.totalCount\n            }\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {\n                ...state,\n                isFetching: action.isFetching,\n            }\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userID]\n                    : state.followingInProgress.filter(id => id !== action.userID)\n\n\n            }\n        }\n        default:\n            return state;\n    }\n\n}\n\n\nexport const followSuccess = (userID: number) => ({\n    type: FOLLOW, userID\n} as const);\nexport const unfollowSuccess = (userID: number) => ({type: UNFOLLOW, userID} as const);\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const);\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const);\nexport const setTotalUsersCount = (totalCount: number) => ({type: SET_TOTAL_USERS_COUNT, totalCount} as const);\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const);\nexport const toggleFollowingProgress = (isFetching: boolean, userID: number) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS, isFetching, userID,\n} as const);\n\nexport const getUsers = (currentPage: number, pageSize: number) => {\n    return async (dispatch: Dispatch) => { //thunk\n        dispatch(toggleIsFetching(true));\n        dispatch(setCurrentPage(currentPage))\n        const data = await usersAPI.getUsers(currentPage, pageSize)\n        dispatch(toggleIsFetching(false));\n        dispatch(setUsers(data.items));\n        dispatch(setTotalUsersCount(data.totalCount));\n    }\n}\n\nconst followUnfollowFlow = async (dispatch: Dispatch, userID: number, apiMethod: Function, actionCreator: Function) => {\n    dispatch(toggleFollowingProgress(true, userID))\n    const data = await apiMethod(userID)\n    if (data.resultCode === 0) {\n        dispatch(actionCreator(userID))\n    }\n    dispatch(toggleFollowingProgress(false, userID))\n}\n\nexport const follow = (userID: number) => {\n    return async (dispatch: Dispatch) => { //thunk\n        let apiMethod = usersAPI.followUser.bind(usersAPI);\n        await followUnfollowFlow(dispatch, userID, apiMethod, followSuccess)\n    }\n}\n\nexport const unfollow = (userID: number) => {\n    return async (dispatch: Dispatch) => { //thunk\n        let apiMethod = usersAPI.unfollowUser.bind(usersAPI);\n        await followUnfollowFlow(dispatch, userID, apiMethod, unfollowSuccess)\n    }\n}\n\n\nexport default usersReducer;","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\nimport profileReducer from \"./profileReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport sidebarReducer from \"./sidebarReducer\";\nimport usersReducer from \"./usersReducer\";\nimport {authReducer} from \"./authReducer\";\nimport thunkMiddleware from \"redux-thunk\"\nimport { reducer as formReducer } from \"redux-form\";\nimport appReducer from \"./appReducer\";\n\n\nlet rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    sidebar: sidebarReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    app: appReducer,\n    form: formReducer,\n\n})\n\n\nexport type AppStateType = ReturnType<typeof rootReducer> //typeof - return type of function,\n// ReturnType<typeof rootReducer> return type of function return\n\n//@ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nconst store = createStore(rootReducer, /* preloadedState, */ composeEnhancers( applyMiddleware(thunkMiddleware)\n));\n\n// let store = createStore(rootReducer, applyMiddleware(thunkMiddleware));\n//@ts-ignore\nwindow.store = store\n\nexport default store;","import styles from \"./Paginator.module.scss\";\nimport React, {useState} from \"react\";\nimport styleBtn from \"../../../styles/common/Btn.module.scss\"\n\ntype PaginatorPropsType = {\n    totalItemsCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    portionSize: number\n}\n\nconst Paginator = (props: PaginatorPropsType) => {\n    const pagesCount = Math.ceil(props.totalItemsCount / props.pageSize);\n    const pages = [];\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i);\n    }\n    const portionCount = Math.ceil(pagesCount / props.portionSize);\n    const [portionNumber, setPortionNumber] = useState(1);\n    const leftPortionPageNumber = (portionNumber - 1) * props.pageSize + 1;\n    const rightPortionPageNumber = portionNumber * props.pageSize;\n\n\n    return (\n        <div className={styles.paginator}>\n            <button onClick={() => setPortionNumber(portionNumber - 1)}\n                    disabled={portionNumber <= 1} className={styleBtn.btnSecondVariant}>\n                Prev\n            </button>\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map(p => {\n                    return (\n                        <span className={(p === props.currentPage) ? styles.selectedPage : styles.pageNumber}\n                              onClick={() => {\n                                  props.onPageChanged(p)\n                              }}\n                        > {p}</span>\n                    )\n                })}\n            <button onClick={() => setPortionNumber(portionNumber + 1)}\n                    className={styleBtn.btnSecondVariant} disabled={portionNumber >= portionCount}>\n                Next\n            </button>\n\n        </div>\n    )\n}\nexport default Paginator;\n","import React from \"react\";\nimport styles from \"./User.module.scss\";\nimport userPhoto from \"../../assets/images/User_icon.png\";\nimport {UserType} from \"../../Redux/usersReducer\";\nimport {NavLink} from \"react-router-dom\";\nimport styleBtn from '../../styles/common/Btn.module.scss'\n\n\nexport type UserPropsType = {\n    user: UserType\n    follow: (userID: number) => void\n    unfollow: (userID: number) => void\n    followingInProgress: Array<number>\n}\n\nfunction User({user, followingInProgress, unfollow, follow}: UserPropsType) {\n\n    return (\n        <div className={styles.userContainer}>\n            <div className={styles.userBlock}>\n                <NavLink to={'/profile/' + user.id}>\n                    <img src={user.photos.small ? user.photos.small : userPhoto} className={styles.userPhoto}/>\n                </NavLink>\n                <span className={styles.userInfo}>\n                    <div className={styles.userName}>{user.name}</div>\n                    <div className={styles.userStatus}>{user.status}</div>\n                    <div>\n                {user.followed\n                    ? <button className={styleBtn.btn}\n                              disabled={followingInProgress.some(id => id === user.id)}\n                              onClick={() => {\n                                  unfollow(user.id);\n                              }}>Unfollow\n                    </button>\n                    : <button className={styleBtn.btn}\n                              disabled={followingInProgress.some(id => id === user.id)}\n                              onClick={() => {\n                                  follow(user.id);\n                              }}>Follow\n                    </button>}\n            </div>\n                </span>\n\n            </div>\n\n\n        </div>\n\n\n    )\n}\n\nexport default User","import React from \"react\";\nimport {UserType} from \"../../Redux/usersReducer\";\nimport Paginator from \"../common/paginator/Paginators\";\nimport User from \"./User\";\nimport s from \"./Users.module.scss\"\n\n\n\nexport type UsersPropsType = {\n    totalUsersCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    users: Array<UserType>\n    follow: (userID: number) => void\n    unfollow: (userID: number) => void\n    followingInProgress: Array<number>\n}\n\nfunction Users(props: UsersPropsType) {\n\n    return (\n        <div className={s.usersContainer}>\n            <Paginator totalItemsCount={props.totalUsersCount} pageSize={props.pageSize}\n                       currentPage={props.currentPage} onPageChanged={props.onPageChanged} portionSize = {10}/>\n            {props.users.map(u => <User key={u.id}\n                                        user={u}\n                                        follow={props.follow}\n                                        unfollow={props.unfollow}\n                                        followingInProgress={props.followingInProgress}\n                                        />)}\n\n        </div>\n    )\n}\n\nexport default Users","import {AppStateType} from \"./reduxStore\";\nimport {UserType} from \"./usersReducer\";\nimport {createSelector} from \"reselect\";\n\n\nconst getUsers = (state: AppStateType): Array<UserType> => {\n    return state.usersPage.users\n}\n\nexport const getUsersSelector = createSelector(getUsers,\n    (users: Array<UserType>) =>{\n    return users // here we can do something complex thing, but without changing of dependencies, there aren't rendering\n    })\n\n\n\nexport const getPageSize = (state: AppStateType): number => {\n    return state.usersPage.pageSize\n}\n\nexport const getTotalUsersCount = (state: AppStateType): number => {\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state: AppStateType): number => {\n    return state.usersPage.currentPage\n}\nexport const getIsFetching = (state: AppStateType): boolean => {\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress = (state: AppStateType): Array<number> => {\n    return state.usersPage.followingInProgress\n}","import React from \"react\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../../Redux/reduxStore\";\nimport {\n    setCurrentPage,\n    UserType, toggleFollowingProgress, unfollow, follow, getUsers,\n} from \"../../Redux/usersReducer\";\nimport Users from \"./Users\";\nimport Preloader from \"../common/preloader/Preloader\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize,\n    getTotalUsersCount, getUsersSelector,\n\n} from \"../../Redux/usersSelector\";\n\n\n\ntype MapStateToPropsType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n}\ntype MapDispatchToPropsType = {\n    follow: (userID: number) => void\n    unfollow: (userID: number) => void\n    setCurrentPage: (pageNumber: number) => void\n    toggleFollowingProgress: (isFetching: boolean, userID: number) => void\n    getUsers: (currentPage: number, pageSize: number) => any\n}\nexport type UsersAPIComponentPropsType = MapStateToPropsType & MapDispatchToPropsType\n\nclass UsersContainer extends React.Component<UsersAPIComponentPropsType, AppStateType> {\n    // если конструктор только передает управление родительскому классу, то конструктор можно не писать\n    // constructor(props: UsersPropsType) {\n    //     super(props);\n    // }\n\n    componentDidMount() {\n        const {currentPage, pageSize} = this.props\n        this.props.getUsers(currentPage, pageSize);\n\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        const {pageSize} = this.props\n        this.props.getUsers(pageNumber, pageSize);\n\n    }\n\n    render() {\n\n        return (\n            <>\n                {this.props.isFetching ? <Preloader/> : null}\n                <Users\n                    totalUsersCount={this.props.totalUsersCount}\n                    pageSize={this.props.pageSize}\n                    currentPage={this.props.currentPage}\n                    onPageChanged={this.onPageChanged}\n                    users={this.props.users}\n                    follow={this.props.follow}\n                    unfollow={this.props.unfollow}\n                    // toggleFollowingProgress={this.props.toggleFollowingProgress}\n                    followingInProgress={this.props.followingInProgress}\n                />\n            </>\n        )\n    }\n\n}\n\n// let mapStateToProps = (state: AppStateType): MapStateToPropsType => { //state of all application\n//     return {\n//         users: state.usersPage.users,\n//         pageSize: state.usersPage.pageSize,\n//         totalUsersCount: state.usersPage.totalUsersCount,\n//         currentPage: state.usersPage.currentPage,\n//         isFetching: state.usersPage.isFetching,\n//         followingInProgress: state.usersPage.followingInProgress\n//     }\n// }\n\nlet mapStateToProps = (state: AppStateType): MapStateToPropsType => { //state of all application\n    return {\n        users: getUsersSelector(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state)\n    }\n}\n\n\nexport default compose<React.ComponentType>(\n    // withAuthRedirect,\n    connect(mapStateToProps,\n        {\n            follow,\n            unfollow,\n            setCurrentPage,\n            toggleFollowingProgress,\n            getUsers\n        }\n    )\n)(UsersContainer)","import React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport s from './Header.module.scss';\nimport styles from '../../styles/common/Btn.module.scss'\n\ntype HeaderPropsType = {\n    isAuth: boolean\n    login: string | null\n    logout: () => any\n\n\n}\n\nfunction Header(props: HeaderPropsType) {\n    return (\n        <header className= {s.header}>\n            {/*<img src='https://i.pinimg.com/originals/33/b8/69/33b869f90619e81763dbf1fccc896d8d.jpg'/>*/}\n            <div className={s.loginBlock}>\n                {props.isAuth\n                    ? <div className={s.loginText}> {props.login} <button className={styles.btn} onClick={props.logout}>Log Out</button></div>\n                    : <div className={s.loginText}><NavLink to={'/login'}>Login</NavLink></div> }\n            </div>\n        </header>\n    )\n}\nexport default Header;","import React from \"react\";\nimport {AppStateType} from \"../../Redux/reduxStore\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {getAuthUserData, logout, setAuthUserData} from \"../../Redux/authReducer\";\n\ntype MapStateToPropsType = {\n    isAuth: boolean\n    login: string | null\n    userId: number | null\n    email: string | null\n}\ntype MapDispatchToPropsType = {\n    // getAuthUserData: (userId: number | null, email: string | null, login:string | null) => any\n    // getAuthUserData: () => any\n    logout: () => any\n}\nexport type HeaderAPIComponentPropsType = MapStateToPropsType & MapDispatchToPropsType\n\n\nclass HeaderContainer extends React.Component<HeaderAPIComponentPropsType, AppStateType> {\n    // componentDidMount() {\n    //     this.props.getAuthUserData(this.props.userId, this.props.email, this.props.login)\n    // }\n\n    render() {\n        return (\n            <Header {...this.props}/>\n        )\n    }}\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\n    isAuth: state.auth.isAuth,\n    login: state.auth.login,\n    email: state.auth.email,\n    userId: state.auth.userId\n\n\n})\n\nexport default connect<MapStateToPropsType, MapDispatchToPropsType,{}, AppStateType >\n(mapStateToProps, {logout}) (HeaderContainer);","import React from \"react\";\nimport {reduxForm, Field, InjectedFormProps} from \"redux-form\";\nimport {Input} from \"../common/FormsControls/FormsControl\";\nimport {required} from \"../../utils/validators/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../Redux/authReducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../../Redux/reduxStore\";\nimport s from \"../common/FormsControls/FormControls.module.scss\"\nimport styles from \"./Login.module.scss\"\nimport styleBtn from \"../../styles/common/Btn.module.scss\"\n\ntype FormDataType = {\n    email: string\n    password: string\n    rememberMe: boolean\n    captcha: null | string\n}\ntype MapDispatchToPropsType = {\n    login: (email: string, password: string, rememberMe: boolean, captcha: string | null) => any\n}\ntype MapStateToPropsType = {\n    captchaUrl: null | string\n    isAuth: boolean\n}\ntype LoginPropsType = MapDispatchToPropsType & MapStateToPropsType\ntype LoginFormPropsType = {\n    captchaUrl: null | string\n}\n\nexport const LoginForm: React.FC<InjectedFormProps<FormDataType, LoginFormPropsType> & LoginFormPropsType> = //деструктуризация props\n    ({handleSubmit, captchaUrl, error}) => {\n\n        return (\n            <form onSubmit={handleSubmit} className={styles.formLogin}>\n\n                <Field placeholder={\"E-mail\"} name={\"email\"} component={Input} validate={[required]}\n                       className={styles.field}/>\n                <Field placeholder={\"Password\"} name={\"password\"} component={Input} validate={[required]}\n                       type={\"password\"} className={styles.field}/>\n                <span className={styles.checkbox}>\n                    <Field type={\"checkbox\"} name={\"rememberMe\"} component={Input}/></span>\n                    <span className={styles.checkbox}>remember me</span>\n\n\n                {error && <div className={s.summaryError}>\n                    {error}\n                </div>}\n                {captchaUrl && <div><img src={captchaUrl} alt=\"\"/></div>}\n                {captchaUrl && <Field placeholder={\"Symbols from image\"} name={\"captcha\"}\n                                      component={Input} validate={[required]} className={styles.field}/>}\n                <div>\n                    <button className={styleBtn.btn}>Sign in</button>\n                </div>\n            </form>\n        )\n    }\n\nconst LoginReduxForm = reduxForm<FormDataType, LoginFormPropsType>({form: 'login'})(LoginForm)\n\n\nconst Login = (props: LoginPropsType) => {\n    const onSubmit = (formData: FormDataType) => {\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha)\n    }\n    if (props.isAuth) {\n        return <Redirect to={'/profile'}/>\n    }\n    return (\n        <div className={styles.loginContainer}>\n            <div className={styles.titleLoginPage}>Login</div>\n            <div className={styles.loginText}>To log in use common test account credentials:\n                Email: free@samuraijs.com\n                Password: free</div>\n            <LoginReduxForm onSubmit={onSubmit} captchaUrl={props.captchaUrl}/>\n        </div>\n    )\n}\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\n    return {\n        isAuth: state.auth.isAuth,\n        captchaUrl: state.auth.captchaUrl\n    }\n\n}\n\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>\n(mapStateToProps, {login})(Login)","import React, {Component, ComponentType} from \"react\";\nimport Preloader from \"../components/common/preloader/Preloader\";\n\n\nexport function withSuspense<T>(Component: ComponentType<T>) {\n    return (props:any) => {\n        return <React.Suspense fallback={<Preloader/>}>\n            <Component {...props}/>\n        </React.Suspense>}\n\n}\n\n","import React from 'react'\nimport style from './Error404.module.scss'\n\n\nfunction Error404() {\n    return (\n        <div className={style.error404Page}>\n            <div className={style.numbers}>404</div>\n            <div>Page Not Found</div>\n        </div>\n    )\n}\n\nexport default Error404","import React from 'react';\nimport './App.scss';\nimport Navbar from \"./components/Navbar/Navbar\";\nimport {HashRouter, Redirect, Route, Switch, withRouter} from \"react-router-dom\";\nimport News from \"./components/News/News\";\nimport Settings from \"./components/Settings/Settings\";\nimport Music from \"./components/Music/Music\";\nimport store, {AppStateType} from \"./Redux/reduxStore\";\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport Login from \"./components/Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./Redux/appReducer\";\nimport Preloader from \"./components/common/preloader/Preloader\";\nimport {withSuspense} from \"./hoc/withSuspense\";\nimport Error404 from \"./components/common/Error404/Error404\";\n\nconst DialogsContainer = React.lazy(() => import(\"./components/Dialogs/DialogsContainer\")); //not included in the bundle\nconst ProfileContainer = React.lazy(() => import(\"./components/Profile/ProfileContainer\")); //not included in the bundle\n\n\ntype MapDispatchToPropsType = {\n    initializeApp: () => void\n}\ntype  MapStateToPropsType = {\n    initialized: boolean\n}\n\ntype PropsType = MapDispatchToPropsType & MapStateToPropsType\n\nclass App extends React.Component<PropsType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n        return (\n            <div className='app-wrapper'>\n                <HeaderContainer/>\n                <Navbar\n                />\n                <div className={'app-wrapper-content'}>\n                    <Switch>\n                        <Route exact path={'/'} render={ () => <Redirect to={'/profile'}/>}/>\n                        <Route path={'/profile/:userId?'}\n                               render={withSuspense(ProfileContainer)}/>\n                        <Route path={'/dialogs'}\n                               render={withSuspense(DialogsContainer)}/>\n                        <Route path={'/users'}\n                               render={withSuspense(UsersContainer)}/>\n                        <Route path={'/login'} render={withSuspense(Login)}/>\n                        <Route path={'/news'} render={() => <News/>}/>\n                        <Route path={'/music'} render={() => <Music/>}/>\n                        <Route path={'/settings'} render={() => <Settings/>}/>\n                        {/*<Redirect from={'*'} to={<div>404 Not Found</div>}}/>*/}\n                        <Route path={'*'} render={() => <Error404/>}/>\n                    </Switch>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose<React.ComponentType>(\n    withRouter,\n    connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppStateType>\n    (mapStateToProps, {initializeApp}))(App)\n\nconst SamuraiJSApp = () => {\n    return (\n        //here is used HashRouter for gh-pages. In other cases should use BrowserRouter\n        <HashRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </HashRouter>\n    )\n}\nexport default SamuraiJSApp\n\n\n\n","import React from 'react';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\nimport ReactDOM from \"react-dom\";\nimport SamuraiJSApp from './App';\n\n\n// const rerenderEntireTree = () => {\n\nReactDOM.render(\n    <React.StrictMode>\n        <SamuraiJSApp/>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// }\n\n\n// rerenderEntireTree()\n\n// store.subscribe(rerenderEntireTree);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import {authAPI, securityAPI} from \"../api/api\";\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStateType} from \"./reduxStore\";\nimport {FormAction, stopSubmit} from \"redux-form\";\n\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\nconst GET_CAPTCHA_URL_SUCCESS = 'auth/GET_CAPTCHA_URL_SUCCESS';\n\ntype ActionsType = ReturnType<typeof setAuthUserData> | ReturnType<typeof getCaptchaUrlSuccess>\n\ntype InitialStateType = {\n    userId: number | null\n    email: null | string\n    login: null | string\n    isAuth: boolean\n    captchaUrl: null | string\n}\ntype ThunkType = ThunkAction<any, AppStateType, unknown, ActionsType>\n\nlet initialState: InitialStateType = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    captchaUrl: null\n};\n\nexport const authReducer = (state: InitialStateType = initialState, action: ActionsType): InitialStateType => {\n    switch (action.type) {\n        case SET_USER_DATA:\n        case GET_CAPTCHA_URL_SUCCESS:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        default:\n            return state;\n    }\n}\n\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) =>\n    ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}} as const)\n\nexport const getCaptchaUrlSuccess = (captchaUrl: string) =>\n    ({type: GET_CAPTCHA_URL_SUCCESS, payload: {captchaUrl}} as const)\n\nexport const getAuthUserData = (): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n        let response = await authAPI.authMe()\n        if (response.resultCode === 0) {\n            let {email, id, login} = response.data;\n            dispatch(setAuthUserData(id, email, login, true));\n        }\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean, captcha: string| null): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType | FormAction>) => {\n        let response = await authAPI.login(email, password, rememberMe, captcha)\n        if (response.data.resultCode === 0) {\n            dispatch(getAuthUserData());\n        } else {\n            if (response.data.resultCode === 10){\n                dispatch(getCaptchaUrl())\n            }\n            let message = response.data.messages.length > 0 ? response.data.messages[0] : \"Some error\"\n            dispatch(stopSubmit(\"login\", {_error: message}))\n        }\n    }\n\n}\n\nexport const getCaptchaUrl = (): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n        const response = await securityAPI.getCaptchaUrl()\n        const captchaUrl = response.data.url\n        dispatch(getCaptchaUrlSuccess(captchaUrl))\n\n    }\n\n}\n\nexport const logout = (): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n        let response = await authAPI.logout()\n        if (response.data.resultCode === 0) {\n            dispatch(setAuthUserData(null, null, null, false));\n        }\n    }\n}\n\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"userContainer\":\"User_userContainer__2H-zf\",\"userBlock\":\"User_userBlock__aKBgA\",\"userPhoto\":\"User_userPhoto__3mwGu\",\"userInfo\":\"User_userInfo__1SfqK\",\"userName\":\"User_userName__G-gga\",\"userStatus\":\"User_userStatus__3wno0\"};","export default __webpack_public_path__ + \"static/media/loader.afa973ee.gif\";","import loader from \"../../../assets/images/loader.gif\";\nimport React from \"react\";\n\ntype PreloaderPropsType = {\n\n}\n\nfunction Preloader(props: PreloaderPropsType) {\n    return (\n        <div>\n            <img src={loader}/>\n        </div>\n    )\n}\n\nexport default Preloader;","import React from \"react\";\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStateType} from \"./reduxStore\";\nimport {getAuthUserData} from \"./authReducer\";\n\ntype AppInitializedType = typeof initialState\ntype SetInitializedActionType = ReturnType<typeof initializedSuccessAC>\nexport type SetAppErrorType = ReturnType<typeof setAppError>\ntype ActionsType = SetInitializedActionType | SetAppErrorType\n\nconst INITIALIZED_SUCCESS = \"APP/INITIALIZED_SUCCESS\";\nconst SET_APP_ERROR = \"APP/SET_APP_ERROR\"\n\nlet initialState = {\n    initialized: false,\n    error: null as null | string\n}\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsType>\n\nconst appReducer = (state: AppInitializedType = initialState, action: ActionsType): AppInitializedType => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n        case SET_APP_ERROR:\n            return {\n                ...state,\n                error: action.error\n            }\n        default:\n            return state\n\n    }\n}\n\n\nexport const initializedSuccessAC = () => ({\n    type: INITIALIZED_SUCCESS\n} as const)\n\nexport const setAppError = (error: null | string) => ({\n    type: SET_APP_ERROR,\n    error\n} as const)\n\nexport const initializeApp = (): ThunkType =>\n    (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>) => {\n        let promise = dispatch(getAuthUserData())\n        promise.then(() => {\n            dispatch(initializedSuccessAC())\n        })\n}\nexport const setError = (error: null | string):ThunkType =>\n    (dispatch: ThunkDispatch<AppStateType, unknown, ActionsType>)  => {\n        dispatch(setAppError(error));\n        alert(error);\n        dispatch(setAppError(null));\n}\nexport default appReducer;\n\n\n\n\n\n","import s from \"./FormControls.module.scss\"\n\n\nconst FormControl = ({input, meta, child, ...props}: any) => {\n    const hasError = meta.touched && meta.error\n    return (\n        <div className={s.formControl}>\n            <div>\n                {props.children}\n                {hasError && <div>{meta.error}</div>}\n            </div>\n\n\n        </div>\n    )\n}\n\n\nexport const Textarea = (props: any) => {\n    const {input, meta, children, ...restProps} = props\n    return (\n        <FormControl {...props}><textarea {...input} {...restProps}/></FormControl>\n    )\n}\n\nexport const Input = (props: any) => {\n    const {input, meta, children, ...restProps} = props\n    return (\n        <FormControl {...props}><input {...input} {...restProps}/></FormControl>\n    )\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1v0yI\",\"loginBlock\":\"Header_loginBlock__3g_eP\",\"loginText\":\"Header_loginText__1rVCx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__26OxF\",\"summaryError\":\"FormControls_summaryError__3pHf9\"};","export const required = (value: string | undefined) => {\n    if (value) {\n        return undefined\n    }\n    return \"Field is required\"\n}\nexport const maxLengthCreator =(maxLength: number) => (value: string | undefined) => {\n    if (value && value.length > maxLength) {\n        return `Max length is ${maxLength} symbols`\n    }\n    return undefined\n}\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__1JR9Y\",\"selectedPage\":\"Paginator_selectedPage__3cd5H\",\"pageNumber\":\"Paginator_pageNumber__1egM_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error404Page\":\"Error404_error404Page__dFkEH\",\"numbers\":\"Error404_numbers__3PJwH\"};","import {PhotosType, profileAPI} from \"../api/api\";\nimport {ThunkAction, ThunkDispatch} from \"redux-thunk\";\nimport {AppStateType} from \"./reduxStore\";\nimport {ProfileDataFormType} from \"../components/Profile/ProfileInfo/ProfileDataForm\";\nimport {FormAction, stopSubmit} from \"redux-form\";\nimport {setAppError, SetAppErrorType, setError} from \"./appReducer\";\n\nconst ADD_POST = 'profile/ADD-POST';\nconst SET_USER_PROFILE = 'profile/SET-USER-PROFILE';\nconst SET_USER_STATUS = 'profile/SET-USER-STATUS';\nconst DELETE_POST = 'profile/DELETE-POST';\nconst SAVE_PHOTO_SUCCESS = 'profile/SAVE_PHOTO_SUCCESS';\n\nexport type InitialStateType = {\n    posts: Array<PostType>\n    newPostText: string\n    profile: null | ProfileUserType\n    status: string\n\n}\nexport type PostType = {\n    id: number\n    message: string\n    likesCount: number\n}\nexport type ContactsType = {\n    facebook: null | string\n    website: null | string\n    vk: null | string\n    twitter: null | string\n    instagram: null | string\n    youtube: null | string\n    github: null | string\n    mainLink: null | string\n}\nexport type ProfileUserType = {\n    aboutMe: {\n        aboutMe: null | string\n    }\n    contacts: ContactsType\n    fullName: string\n    lookingForAJob: boolean\n    lookingForAJobDescription: null | string\n    photos: {\n        small: null | string\n        large: null | string\n    }\n    userId: number\n}\n\ntype ActionsTypes =\n    ReturnType<typeof addPostActionCreator> |\n    ReturnType<typeof setUserProfile> |\n    ReturnType<typeof setUserStatus> |\n    ReturnType<typeof deletePost> |\n    ReturnType<typeof savePhotoSuccess> |\n    SetAppErrorType\n\ntype ThunkType = ThunkAction<void, AppStateType, unknown, ActionsTypes>\n\nconst initialState: InitialStateType = {\n    posts: [\n        {id: 1, message: 'Hi! How are you?', likesCount: 12},\n        {id: 2, message: \"It's my first post\", likesCount: 15},\n    ],\n    newPostText: '',\n    profile: null,\n    status: \"\"\n}\n\n// for this reducer state is state.profilePage, we give here only this part of state\nconst profileReducer = (state = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case ADD_POST:\n            const newPost: PostType = {\n                id: 5,\n                message: action.newPostText,\n                likesCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                // newPostText: '',\n            };\n\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            };\n        }\n        case SET_USER_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case DELETE_POST: {\n            return {\n                ...state,\n                posts: state.posts.filter(p => p.id !== action.postId)\n            }\n        }\n        case SAVE_PHOTO_SUCCESS: {\n            if (state.profile) {\n                return {\n                    ...state,\n                    profile: {...state.profile, photos: action.photos}\n                }\n            }\n            return {...state}\n        }\n\n        default:\n            return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText: string) => ({\n    type: ADD_POST,\n    newPostText\n} as const)\nexport const setUserProfile = (profile: ProfileUserType) => ({\n    type: SET_USER_PROFILE,\n    profile\n} as const)\nexport const setUserStatus = (status: string) => ({\n    type: SET_USER_STATUS,\n    status\n} as const)\nexport const deletePost = (postId: number) => ({\n    type: DELETE_POST,\n    postId\n} as const)\nexport const savePhotoSuccess = (photos: PhotosType) => ({\n    type: SAVE_PHOTO_SUCCESS,\n    photos\n} as const)\n\n\nexport const getUserProfile = (userId: number | null): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => { //thunk\n        const response = await profileAPI.getUserProfile(userId)\n        dispatch(setUserProfile(response))\n    }\n}\n\nexport const getUserStatus = (userId: number | null): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => { //thunk\n        const response = await profileAPI.getUserStatus(userId)\n        dispatch(setUserStatus(response.data))\n    }\n}\n\nexport const updateUserStatus = (status: string): ThunkType => {\n    return async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\n        try {\n            const response = await profileAPI.updateUserStatus(status)\n            if (response.data.resultCode === 0) {\n                dispatch(setUserStatus(status))\n            }\n        } catch {\n            dispatch(setError(\"some error occurred\"))\n        }\n\n    }\n}\n\nexport const savePhoto = (file: File, userId: number | null): ThunkType => async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\n    const response = await profileAPI.savePhoto(file);\n    if (response.data.resultCode === 0) {\n        dispatch(savePhotoSuccess(response.data.data));\n        dispatch(getUserProfile(userId));\n    }\n}\n\nexport const saveProfile = (profile: ProfileDataFormType): ThunkType =>\n    async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes | FormAction>, getState) => {\n        const userId = getState().auth.userId\n        const response = await profileAPI.saveProfile(profile);\n        if (response.data.resultCode === 0) {\n            dispatch(saveProfile(response.data.data));\n            dispatch(getUserProfile(userId));\n        } else {\n            dispatch(stopSubmit(\"edit-profile\", {_error: response.data.messages[0]}))\n            return Promise.reject(response.data.messages[0]);\n        }\n    }\n\n\nexport default profileReducer;"],"sourceRoot":""}
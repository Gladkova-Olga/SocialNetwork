(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[3],{295:function(e,t,s){"use strict";s.d(t,"a",(function(){return j}));var a=s(3),o=s(73),n=(s(0),s(11)),i=s(17),r=s(1),c=["isAuth"],l=function(e){return{isAuth:e.auth.isAuth}};function j(e){return Object(i.b)(l)((function(t){var s=t.isAuth,i=Object(o.a)(t,c);return s?Object(r.jsx)(e,Object(a.a)({},i)):Object(r.jsx)(n.a,{to:"/login"})}))}},298:function(e,t,s){e.exports={profileInfoContainer:"ProfileInfo_profileInfoContainer__1Rpv0",mainPhoto:"ProfileInfo_mainPhoto__E2WaB",editImage:"ProfileInfo_editImage__1ta2T",editImageInput:"ProfileInfo_editImageInput__1fZDZ",profileDataContainer:"ProfileInfo_profileDataContainer__5YBQH",profileData:"ProfileInfo_profileData__12mUh",contactsContainer:"ProfileInfo_contactsContainer__2HMpA"}},299:function(e,t,s){e.exports={statusContainer:"ProfileStatusWithHooks_statusContainer__2c6NA"}},300:function(e,t,s){e.exports={profileDataFormContainer:"ProfileDataForm_profileDataFormContainer__3Japq",field:"ProfileDataForm_field__3R9wP"}},301:function(e,t,s){e.exports={latestPostsBlock:"MyPosts_latestPostsBlock__3gqiM",blockTitle:"MyPosts_blockTitle__2iTpK",postsBlock:"MyPosts_postsBlock__12Tjy",postFormContainer:"MyPosts_postFormContainer__1VFt-"}},302:function(e,t,s){e.exports={postContainer:"Post_postContainer__3ExCE",likes:"Post_likes__jP5gZ"}},304:function(e,t,s){"use strict";s.r(t);var a=s(3),o=s(39),n=s(40),i=s(43),r=s(42),c=s(0),l=s.n(c),j=s(100),u=s(298),d=s.n(u),p=s(44),f=s(299),b=s.n(f),h=s(1),O=function(e){var t=Object(c.useState)(!1),s=Object(j.a)(t,2),a=s[0],o=s[1],n=Object(c.useState)(e.status),i=Object(j.a)(n,2),r=i[0],l=i[1];Object(c.useEffect)((function(){l(e.status)}),[e.status]);return Object(h.jsxs)("div",{className:b.a.statusContainer,children:[!a&&Object(h.jsx)("div",{children:Object(h.jsx)("span",{onDoubleClick:function(){return o(!0)},children:e.status||"----"})}),a&&Object(h.jsx)("div",{children:Object(h.jsx)("input",{onChange:function(e){l(e.currentTarget.value)},onBlur:function(){o(!1),e.updateUserStatus(r)},autoFocus:!0,value:r})})]})},m=s(121),x=s(132),v=s(133),P=s(53),_=s(70),g=s.n(_),k=s(25),N=s.n(k),C=s(300),I=s.n(C),S=Object(v.a)({form:"edit-profile"})((function(e){var t=e.handleSubmit,s=e.profile,a=e.error;return Object(h.jsxs)("form",{onSubmit:t,className:I.a.profileDataFormContainer,children:[Object(h.jsx)("div",{children:a&&Object(h.jsx)("div",{className:g.a.summaryError,children:a})}),Object(h.jsxs)("div",{children:["My name is ",Object(h.jsxs)("span",{className:I.a.field,children:[" ",Object(h.jsx)(x.a,{placeholder:"full name",name:"fullName",component:P.a,validate:[]})]})]}),Object(h.jsxs)("div",{children:["About me:",Object(h.jsx)("span",{className:I.a.field,children:Object(h.jsx)(x.a,{placeholder:"About me",name:"aboutMe",component:P.b,validate:[]})})]}),Object(h.jsxs)("div",{children:["Looking for a job:",Object(h.jsx)("span",{className:I.a.field,children:Object(h.jsx)(x.a,{placeholder:"",name:"lookingForAJob",component:P.a,validate:[],type:"checkbox"})})]}),Object(h.jsxs)("div",{children:["My professional skills:",Object(h.jsx)("span",{className:I.a.field,children:Object(h.jsx)(x.a,{placeholder:"My professional skills",name:"lookingForAJobDescription",component:P.b,validate:[]})})]}),Object(h.jsx)("div",{children:Object.keys(s.contacts).map((function(e){var t="contacts."+e;return Object(h.jsx)("div",{children:Object(h.jsxs)("span",{children:[" ",e,": ",Object(h.jsx)("span",{className:I.a.field,children:Object(h.jsx)(x.a,{placeholder:e,name:t,component:P.a,validate:[]})})]})},e)}))}),Object(h.jsx)("button",{className:N.a.btnSecondVariant,onClick:function(){},children:"save"})]})}));var y=function(e){var t=e.contactTitle,s=e.contactValue;return Object(h.jsxs)("div",{className:d.a.contacts,children:[Object(h.jsxs)("span",{className:d.a.profileData,children:[t,":"]})," ",s]})},D=function(e){var t=e.profile,s=e.isOwner,a=e.goToEditMode;return Object(h.jsxs)("div",{className:d.a.profileDataContainer,children:[Object(h.jsxs)("div",{children:["Hi! My name is ",Object(h.jsx)("span",{className:d.a.profileData,children:t.fullName})]}),Object(h.jsxs)("div",{children:["About me: ",Object(h.jsxs)("span",{className:d.a.profileData,children:[" ",t.aboutMe]})]}),Object(h.jsxs)("div",{children:["Looking for a job: ",Object(h.jsx)("span",{className:d.a.profileData,children:t.lookingForAJob?"yes":"no"})]}),t.lookingForAJob&&Object(h.jsxs)("div",{children:["My professional skills: ",Object(h.jsx)("span",{className:d.a.profileData,children:t.lookingForAJobDescription})]}),Object(h.jsxs)("div",{className:d.a.contactsContainer,children:[" ",Object.keys(t.contacts).map((function(e){return Object(h.jsx)(y,{contactTitle:e,contactValue:t.contacts[e]},e)}))]}),s&&Object(h.jsx)("div",{children:Object(h.jsx)("button",{onClick:a,className:N.a.btnSecondVariant,children:"Edit Profile"})})]})},U=function(e){var t=Object(c.useState)(!1),s=Object(j.a)(t,2),a=s[0],o=s[1];return e.profile?Object(h.jsxs)("div",{className:d.a.profileInfoContainer,children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{className:d.a.mainPhoto,src:e.profile.photos.large?e.profile.photos.large:m.a}),Object(h.jsx)("div",{children:e.isOwner&&Object(h.jsxs)("div",{className:d.a.editImage,children:[Object(h.jsx)("input",{type:"file",name:"file",id:"file",onChange:function(t){var s;(null===(s=t.target.files)||void 0===s?void 0:s.length)&&e.savePhoto(t.target.files[0],e.authorizedUserId)},className:d.a.editImageInput}),Object(h.jsx)("label",{htmlFor:"file",className:N.a.btnSecondVariant,children:"Change Image"})]})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)(O,{status:e.status,updateUserStatus:e.updateUserStatus}),a?Object(h.jsxs)("span",{children:[" ",Object(h.jsx)(S,{onSubmit:function(t){e.saveProfile(t).then((function(){return o(!1)}))},profile:e.profile,initialValues:e.profile})," "]}):Object(h.jsx)(D,{profile:e.profile,isOwner:e.isOwner,goToEditMode:function(){return o(!0)}})]})]}):Object(h.jsx)(p.a,{})},w=s(99),A=s(301),F=s.n(A),M=s(302),T=s.n(M);var B=function(e){return Object(h.jsxs)("div",{className:T.a.postContainer,children:[e.message,Object(h.jsx)("div",{children:Object(h.jsxs)("span",{className:T.a.likes,children:["like ",e.likesCount]})})]})},E=s(71);var J=Object(E.a)(10),V=Object(v.a)({form:"ProfileAddNewPostForm"})((function(e){return Object(h.jsxs)("form",{onSubmit:e.handleSubmit,className:F.a.postFormContainer,children:[Object(h.jsx)("div",{children:Object(h.jsx)(x.a,{placeholder:"New post",name:"newPostText",component:P.b,validate:[E.b,J]})}),Object(h.jsx)("div",{children:Object(h.jsx)("button",{className:N.a.btnSecondVariant,children:"Add post"})})]})})),z=function(e){var t=e.posts.map((function(e){return Object(h.jsx)(B,{message:e.message,likesCount:e.likesCount,id:e.id},e.id)}));return Object(h.jsxs)("div",{className:F.a.latestPostsBlock,children:[Object(h.jsx)("div",{className:F.a.blockTitle,children:"Latest posts"}),Object(h.jsx)(V,{onSubmit:function(t){e.addPost(t.newPostText)}}),Object(h.jsx)("div",{className:F.a.postsBlock,children:t})]})},H=s(17),L=Object(H.b)((function(e){return{newPostText:e.profilePage.newPostText,posts:e.profilePage.posts}}),(function(e){return{addPost:function(t){e(Object(w.a)(t))}}}))(z),Z=function(e){return Object(h.jsxs)("div",{children:[Object(h.jsx)(U,{profile:e.profile,status:e.status,updateUserStatus:e.updateUserStatus,isOwner:e.isOwner,savePhoto:e.savePhoto,authorizedUserId:e.authorizedUserId,saveProfile:e.saveProfile}),Object(h.jsx)(L,{})]})},q=s(11),R=s(295),W=s(10),K=function(e){Object(i.a)(s,e);var t=Object(r.a)(s);function s(){return Object(o.a)(this,s),t.apply(this,arguments)}return Object(n.a)(s,[{key:"refreshProfile",value:function(){var e=+this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getUserStatus(e)}},{key:"componentDidMount",value:function(){this.refreshProfile()}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.userId!==e.match.params.userId&&this.refreshProfile()}},{key:"render",value:function(){return Object(h.jsx)(Z,Object(a.a)(Object(a.a)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateUserStatus:this.props.updateUserStatus,isOwner:!this.props.match.params.userId,savePhoto:this.props.savePhoto,authorizedUserId:this.props.authorizedUserId,saveProfile:this.props.saveProfile}))}}]),s}(l.a.Component);t.default=Object(W.d)(Object(H.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:w.c,getUserStatus:w.d,updateUserStatus:w.g,savePhoto:w.e,saveProfile:w.f}),q.g,R.a)(K)}}]);
//# sourceMappingURL=3.afb5469e.chunk.js.map